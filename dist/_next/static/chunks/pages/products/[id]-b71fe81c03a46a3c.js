(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[304],{8693:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/products/[id]",function(){return t(7696)}])},9536:function(e,s,t){"use strict";t.r(s);var a=t(5893),r=t(7294),i=t(1163),n=t(1234),c=t(1664),d=t.n(c);t(9603);let l=()=>(0,a.jsx)("div",{className:" shadow rounded-md p-4 max-w-sm w-full mx-auto",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"aspect-w-1 aspect-h-1 sm:aspect-h-8 sm:aspect-w-7",children:(0,a.jsx)("div",{className:"w-full h-64 bg-slate-100"})}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("div",{className:"h-4 bg-slate-100 rounded w-3/4"}),(0,a.jsx)("div",{className:"h-4 bg-slate-100 rounded w-1/4 mt-2"})]}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("div",{className:"h-8 bg-slate-100 rounded w-full"})})]})});s.default=()=>{let{cartItems:e,addToCart:s}=(0,n.jD)(),t=(0,i.useRouter)(),[c,o]=(0,r.useState)([]),[m,u]=(0,r.useState)(!0),[g,h]=(0,r.useState)(null),[x,p]=(0,r.useState)(1),[f,b]=(0,r.useState)(1);(0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("https://signyards.in/getProducts.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({page:"product",page_number:x})});if(!e.ok)throw Error("Failed to fetch products");let s=await e.json();o(s.filter(e=>"Product"===e.type)),b(s.totalPages),u(!1)}catch(e){h(e.message),u(!1)}})()},[x]);let j=a=>{e.find(e=>e.id===a.id)?t.push("/cart"):(s(a.id),console.log("Product with ID ".concat(a.id," added to cart")))},N=e=>{t.push("/products/".concat(e))};return m?(0,a.jsx)("div",{id:"productScreen",children:(0,a.jsx)("div",{className:"relative bg-gray-800 sm:w-[calc(100%)]",children:(0,a.jsx)("div",{className:"mx-auto max-w-7xl px-4 py-10 sm:px-6 sm:py-24 lg:px-8",children:(0,a.jsx)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 xl:gap-8",children:Array(8).fill(0).map((e,s)=>(0,a.jsx)(l,{},s))})})})}):g?(0,a.jsxs)("div",{children:["Error: ",g]}):(0,a.jsx)("div",{id:"productScreen",children:(0,a.jsx)("div",{className:"relative bg-gray-800 sm:w-[calc(100%)]",children:(0,a.jsxs)("div",{className:"mx-auto max-w-7xl px-4 py-10 sm:px-6 sm:py-24 lg:px-8",children:[(0,a.jsx)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 xl:gap-8",children:c.map(s=>(0,a.jsxs)("div",{className:"group block relative",children:[(0,a.jsxs)("div",{className:"aspect-w-1 aspect-h-1 sm:aspect-h-8 sm:aspect-w-7",children:[(0,a.jsx)(d(),{legacyBehavior:!0,href:"/products/".concat(s.id),passHref:!0,children:(0,a.jsx)("a",{children:(0,a.jsx)("div",{className:"w-full h-64 bg-gray-200",children:(0,a.jsx)("img",{src:"data:image/jpeg;base64,".concat(s.imageBase64),alt:s.title,className:"object-cover object-center w-full h-full group-hover:opacity-75 cursor-pointer"})})})}),(0,a.jsx)("div",{className:"absolute top-2 right-2",children:(0,a.jsx)("button",{onClick:()=>N(s.id),className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"View"})})]}),(0,a.jsx)("h3",{className:"mt-4 text-sm text-gray-100",children:s.title}),(0,a.jsxs)("p",{className:"mt-1 text-lg font-medium text-yellow-400",children:["₹",s.price_per_unit]}),(0,a.jsx)("button",{onClick:()=>j(s),className:"mt-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:e.find(e=>e.id===s.id)?"Go to Cart":"Add to Cart"})]},s.id))}),(0,a.jsxs)("div",{className:"mt-6 flex justify-center",children:[(0,a.jsx)("button",{onClick:()=>{p(x-1)},disabled:1===x,className:"mr-2 px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Previous"}),(0,a.jsx)("button",{onClick:()=>{p(x+1)},disabled:x===f,className:"ml-2 px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Next"})]})]})})})}},7696:function(e,s,t){"use strict";t.r(s);var a=t(5893),r=t(1163),i=t(7294),n=t(1234),c=t(9536);let d=()=>(0,a.jsx)("div",{className:"container mx-auto p-4",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row p-4 shadow-lg rounded-lg bg-white",children:[(0,a.jsxs)("div",{className:"w-full md:w-1/2 p-4",children:[(0,a.jsx)("div",{className:"main-image-container mb-4 bg-gray-200 h-96 rounded-lg shadow-md"}),(0,a.jsxs)("div",{className:"thumbnail-container flex justify-center mt-4 space-x-2",children:[(0,a.jsx)("div",{className:"thumbnail w-20 h-20 bg-gray-200 rounded-md border border-gray-300"}),(0,a.jsx)("div",{className:"thumbnail w-20 h-20 bg-gray-200 rounded-md border border-gray-300"}),(0,a.jsx)("div",{className:"thumbnail w-20 h-20 bg-gray-200 rounded-md border border-gray-300"})]})]}),(0,a.jsxs)("div",{className:"flex-grow md:w-1/2 md:pl-8 p-4",children:[(0,a.jsx)("div",{className:"text-2xl font-bold mb-4 bg-gray-200 h-8 rounded-md"}),(0,a.jsx)("div",{className:"text-xl text-gray-800 mb-4 bg-gray-200 h-6 rounded-md"}),(0,a.jsx)("div",{className:"text-gray-700 mb-4 bg-gray-200 h-20 rounded-md"}),(0,a.jsx)("div",{className:"mt-4 px-4 py-2 bg-gray-300 text-sm font-medium rounded-md w-1/2"}),(0,a.jsx)("div",{className:"mt-4 px-4 py-2 bg-gray-300 text-sm font-medium rounded-md w-1/4"})]})]})});s.default=()=>{let e=(0,r.useRouter)(),{query:s}=e,{id:t}=s,{cartItems:l,addToCart:o}=(0,n.jD)(),[m,u]=(0,i.useState)(null),[g,h]=(0,i.useState)(!0),[x,p]=(0,i.useState)(null),[f,b]=(0,i.useState)(!1),[j,N]=(0,i.useState)(0),v=(0,i.useRef)(null),y=(0,i.useRef)(null);(0,i.useEffect)(()=>{let e=!0,s=new AbortController,a=s.signal;return t&&fetch("https://signyards.in/getProductById.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({product:{id:t}}),signal:a}).then(e=>{if(!e.ok)throw Error("Network response was not ok: ".concat(e.statusText));return e.json()}).then(s=>{if(e){if(Array.isArray(s)&&s.length>0)u(s[0]);else throw Error("Product not found in fetched data");h(!1)}}).catch(s=>{e&&(console.error("Error fetching product data:",s),p("Error fetching product data: ".concat(s.message)),h(!1))}),()=>{e=!1,s.abort()}},[t]);let w=s=>{l.find(e=>e.id===s.id)?e.push("/cart"):(o(s.id),console.log("Product with ID ".concat(s.id," added to cart")))},k=e=>{N(e)};if(g)return(0,a.jsx)(d,{});if(x)return(0,a.jsx)("div",{children:x});if(!m)return(0,a.jsx)("div",{children:"Product not found"});let S=[m.color,m.item_weight,m.thickness,m.material,m.pattern,m.size].some(e=>e);return(0,a.jsxs)("div",{className:"container mx-auto p-4",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row p-4 shadow-lg rounded-lg bg-white",children:[(0,a.jsx)("div",{className:"w-full md:w-1/2 p-4",children:m.imageBase64&&m.imageBase64.length>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"main-image-container mb-4 relative",onMouseMove:e=>{let{offsetX:s,offsetY:t}=e.nativeEvent,{offsetWidth:a,offsetHeight:r}=v.current;y.current.style.backgroundPosition="".concat(s/a*100,"% ").concat(t/r*100,"%"),y.current.style.left="".concat(s-y.current.offsetWidth/2,"px"),y.current.style.top="".concat(t-y.current.offsetHeight/2,"px")},onMouseEnter:()=>{y.current.style.display="block"},onMouseLeave:()=>{y.current.style.display="none"},ref:v,children:[(0,a.jsx)("img",{src:"data:image/jpeg;base64,".concat(m.imageBase64[j]),alt:m.title,className:"main-image w-full h-96 object-contain rounded-lg shadow-md"}),(0,a.jsx)("div",{ref:y,className:"magnifier hidden absolute w-40 h-40 rounded-full border-2 border-gray-400 bg-no-repeat bg-contain pointer-events-none",style:{backgroundImage:"url(data:image/jpeg;base64,".concat(m.imageBase64[j],")")}})]}),(0,a.jsx)("div",{className:"thumbnail-container flex justify-center mt-4 space-x-2",children:m.imageBase64.map((e,s)=>(0,a.jsx)("img",{src:"data:image/jpeg;base64,".concat(e),alt:"Thumbnail ".concat(s),className:"thumbnail w-20 h-20 object-cover rounded-md cursor-pointer border ".concat(j===s?"border-indigo-600":"border-gray-300"),onClick:()=>k(s)},s))})]}):(0,a.jsx)("div",{children:"No images available"})}),(0,a.jsxs)("div",{className:"flex-grow md:w-1/2 md:pl-8 p-4",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4",children:m.title}),(0,a.jsxs)("p",{className:"text-xl text-gray-800 mb-4",children:["Price: ₹",m.price_per_unit]}),(0,a.jsx)("button",{onClick:()=>w(m),className:"mt-4 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ml-2",children:l.find(e=>e.id===m.id)?"Go to Cart":"Add to Cart"}),(0,a.jsx)("hr",{className:"my-4"}),(0,a.jsxs)("div",{className:"mt-4 text-sm text-gray-700",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium",children:"Description"}),(0,a.jsx)("p",{className:"mb-2 ".concat(f?"":"line-clamp-3"),children:m.description}),(0,a.jsx)("button",{onClick:()=>{b(!f)},className:"text-indigo-600 hover:text-indigo-800 focus:outline-none",children:f?"Show less":"Show more"}),(0,a.jsx)("hr",{className:"my-4"})]}),S&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"font-medium text-2xl mb-2",children:"Specification"}),m.color&&(0,a.jsxs)("p",{className:"mb-2",children:["Color : ",m.color]}),m.item_weight&&(0,a.jsxs)("p",{className:"mb-2",children:["Weight : ",m.item_weight]}),m.thickness&&(0,a.jsxs)("p",{className:"mb-2",children:["Thickness : ",m.thickness]}),m.material&&(0,a.jsxs)("p",{className:"mb-2",children:["Material : ",m.material]}),m.pattern&&(0,a.jsxs)("p",{className:"mb-2",children:["Pattern : ",m.pattern]}),m.size&&(0,a.jsxs)("p",{className:"mb-2",children:["Size : ",m.size]})]})]})]})]}),(0,a.jsx)(c.default,{})]})}},1163:function(e,s,t){e.exports=t(3035)}},function(e){e.O(0,[603,664,888,774,179],function(){return e(e.s=8693)}),_N_E=e.O()}]);