(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{5344:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Authent",function(){return s(9097)}])},9097:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u}});var n=s(5893),r=s(7294),a=s(1163),o=s(3977),l=s(1259);let i=(0,o.ZF)({apiKey:"AIzaSyA1eapXQx3EayX5aKerrDSK_gcypmXww7A",authDomain:"my-signyards.firebaseapp.com",projectId:"my-signyards",storageBucket:"my-signyards.appspot.com",messagingSenderId:"108169697987",appId:"1:108169697987:web:30469d4b109dfc30eae076",measurementId:"G-8RQW24V58H"}),c=(0,l.v0)(i);var d=s(6501),u=e=>{let{onAuthComplete:t,handleClose:s}=e,[o,i]=(0,r.useState)(""),[u,x]=(0,r.useState)(""),[m,h]=(0,r.useState)(!1),[p,g]=(0,r.useState)(!1),[w,f]=(0,r.useState)(null),[j,y]=(0,r.useState)(""),[v,b]=(0,r.useState)(!1),k=(0,a.useRouter)();(0,r.useEffect)(()=>{localStorage.getItem("accessToken")&&(b(!0),setTimeout(()=>{k.push("/")},3e3))},[]);let[N,S]=(0,r.useState)("");function C(){h(!0);let e=window.recaptchaVerifier;(0,l.$g)(c,"+91"+u,e).then(e=>{window.confirmationResult=e,h(!1),g(!0),d.Am.success("OTP sent successfully!")}).catch(e=>{console.log(e),h(!1)})}return(0,n.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm z-50",children:(0,n.jsxs)("div",{className:"relative bg-white p-6 rounded-lg shadow-lg w-80",children:[(0,n.jsx)(d.x7,{toastOptions:{duration:4e3}}),(0,n.jsx)("div",{id:"recaptcha-container"}),v?(0,n.jsx)("h2",{className:"text-center text-gray-800 font-medium text-2xl",children:"\uD83D\uDC4D Already Logged In"}):w?(0,n.jsx)("h2",{className:"text-center text-gray-800 font-medium text-2xl",children:"\uD83D\uDC4D Login Success"}):(0,n.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,n.jsxs)("h1",{className:"text-center leading-normal text-gray-800 font-medium text-3xl mb-6",children:["Welcome to ",(0,n.jsx)("br",{})," SIGNYARD.COM"]}),p?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"bg-emerald-500 text-white w-fit mx-auto p-4 rounded-full",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"h-6 w-6",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,n.jsx)("label",{htmlFor:"otp",className:"font-bold text-xl text-gray-800 text-center",children:"Enter your OTP"}),(0,n.jsx)("input",{type:"text",value:o,onChange:e=>{let t=e.target.value;/^\d{0,6}$/.test(t)&&i(t)},className:"opt-container border border-gray-400 rounded px-3 py-2"}),j&&(0,n.jsx)("p",{className:"text-red-500 text-center",children:j}),(0,n.jsxs)("button",{onClick:function(){h(!0),y(""),window.confirmationResult.confirm(o).then(async e=>{console.log(e),f(e.user),h(!1);let s=await e.user.getIdToken();localStorage.setItem("accessToken",s),t(s),setTimeout(()=>{k.back()},3e3)}).catch(e=>{console.log(e),y("OTP does not match"),h(!1)})},className:"bg-emerald-600 w-full flex gap-1 items-center justify-center py-2.5 text-white rounded",children:[m&&(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"animate-spin h-5 w-5 mr-3",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,n.jsx)("span",{children:"Verify OTP"})]})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"bg-emerald-500 text-white w-fit mx-auto p-4 rounded-full",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"h-6 w-6",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 14l9-5-9-5-9 5 9 5z"})})}),(0,n.jsx)("label",{htmlFor:"phone",className:"font-bold text-xl text-gray-800 text-center",children:"Verify your phone number"}),(0,n.jsx)("input",{type:"tel",value:u,onChange:e=>{let t=e.target.value;/^\d{0,10}$/.test(t)&&x(t)},className:"border border-gray-400 rounded px-3 py-2"}),(0,n.jsxs)("button",{onClick:function(){window.recaptchaVerifier?(console.log("Recaptcha already initialized."),C()):window.recaptchaVerifier=new l.lI(c,"recaptcha-container",{size:"invisible",callback:()=>{console.log("Recaptcha resolved.."),C()}}),C()},className:"bg-emerald-600 w-full flex gap-1 items-center justify-center py-2.5 text-white rounded",children:[m&&(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"animate-spin h-5 w-5 mr-3",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,n.jsx)("span",{children:"Send code via SMS"})]})]})]})]})})}}},function(e){e.O(0,[971,621,888,774,179],function(){return e(e.s=5344)}),_N_E=e.O()}]);